<%= form_with(model: presentation, local: true) do |form| %>
  <% if presentation.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(presentation.errors.count, "error") %> prohibited this presentation from being saved:</h2>

      <ul>
        <% presentation.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :topic %>
    <%= form.text_field :topic %>
  </div>

  <div class="field">
    <%= form.label :date %>
    <%= form.datetime_select :date, class:"form-select" %>
  </div>

  <div class="field">
    <%= form.label :assigned_to %>
    <% @students = User.where(role: "student").select("email") %>
    <% @emails = []  %>
    <%@students.each{|student| @emails << student.email}%>

    <%= form.select :assigned_to, @emails %>
  </div>

  <div class="field">
    <%= form.label :grade %>
    <%= form.number_field :grade, in: 0..100, step: 0.5 %>
  </div>


  <div class="actions">
    <%= form.submit class: "btn btn-success" %>
  </div>
<% end %>
